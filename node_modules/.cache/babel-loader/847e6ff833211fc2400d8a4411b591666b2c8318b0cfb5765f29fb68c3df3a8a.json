{"ast":null,"code":"import _objectSpread from\"C:/Users/ACHRAF OUTAMGHART/developpement/achrafshop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/ACHRAF OUTAMGHART/developpement/achrafshop/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/ACHRAF OUTAMGHART/developpement/achrafshop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useState}from\"react\";import ShoppingCard from\"../component/ShoppingCard/ShoppingCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingContext=/*#__PURE__*/createContext({});var ShoppingProvider=function ShoppingProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsopen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var openCard=function openCard(){setIsopen(true);};var closeCard=function closeCard(){setIsopen(false);};var cartQuantity=cartItems.reduce(function(quantity,item){return item.quantity+quantity;},0);var getItemq=function getItemq(id){var _cartItems$find;return((_cartItems$find=cartItems.find(function(item){return item.id===id;}))===null||_cartItems$find===void 0?void 0:_cartItems$find.quantity)||0;};var incressCars=function incressCars(id){setCartItems(function(currItems){if(currItems.find(function(item){return item.id===id;})==null){return[].concat(_toConsumableArray(currItems),[{id:id,quantity:1}]);}else{return currItems.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1});}else{return item;}});}});};//decriment item\nvar decressCars=function decressCars(id){setCartItems(function(currItems){var _currItems$find;if(((_currItems$find=currItems.find(function(item){return item.id===id;}))===null||_currItems$find===void 0?void 0:_currItems$find.quantity)===1){return currItems.filter(function(item){return item.id!==id;});}else{return currItems.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});}else{return item;}});}});};//Remove\nvar removeItem=function removeItem(id){setCartItems(function(currItems){return currItems.filter(function(item){return item.id!==id;});});};return/*#__PURE__*/_jsxs(ShoppingContext.Provider,{value:{cartItems:cartItems,incressCars:incressCars,decressCars:decressCars,removeItem:removeItem,getItemq:getItemq,openCard:openCard,closeCard:closeCard,cartQuantity:cartQuantity},children:[children,/*#__PURE__*/_jsx(ShoppingCard,{isOpen:isOpen})]});};export default ShoppingProvider;export var useShopingCard=function useShopingCard(){return useContext(ShoppingContext);};","map":{"version":3,"names":["createContext","useContext","useState","ShoppingCard","ShoppingContext","ShoppingProvider","children","isOpen","setIsopen","cartItems","setCartItems","openCard","closeCard","cartQuantity","reduce","quantity","item","getItemq","id","find","incressCars","currItems","map","decressCars","filter","removeItem","useShopingCard"],"sources":["C:/Users/ACHRAF OUTAMGHART/developpement/achrafshop/src/context/Shopping.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\r\nimport ShoppingCard from \"../component/ShoppingCard/ShoppingCard\";\r\n\r\n\r\nconst ShoppingContext = createContext({});\r\n\r\n \r\nconst ShoppingProvider = ({children}) => {\r\n    const [isOpen , setIsopen ] = useState(false);\r\n    const [cartItems ,  setCartItems] = useState([]);\r\n    \r\n    const openCard = () =>{\r\n      setIsopen(true)\r\n    }\r\n\r\n    const closeCard = () =>{\r\n      setIsopen(false)\r\n    }\r\n\r\n    const cartQuantity = cartItems.reduce(\r\n      (quantity, item) => item.quantity + quantity,\r\n      0\r\n    );\r\n \r\n    \r\n    const getItemq = (id)=>{\r\n        return cartItems.find((item) => item.id === id)?.quantity || 0;\r\n    }\r\n\r\n    const incressCars = (id)=>{\r\n        setCartItems((currItems) => {\r\n            if (currItems.find((item) => item.id === id) == null) {\r\n              return [...currItems, { id, quantity: 1 }];\r\n            } else {\r\n              return currItems.map((item) => {\r\n                if (item.id === id) {\r\n                  return { ...item, quantity: item.quantity + 1 };\r\n                } else {\r\n                  return item;\r\n                }\r\n              });\r\n            }\r\n          });\r\n    }\r\n\r\n\r\n   //decriment item\r\n    const decressCars = (id)=>{\r\n        setCartItems((currItems) => {\r\n            if (currItems.find((item) => item.id === id)?.quantity === 1) {\r\n              return currItems.filter((item) => item.id !== id);\r\n            } else {\r\n              return currItems.map((item) => {\r\n                if (item.id === id) {\r\n                  return { ...item, quantity: item.quantity - 1 };\r\n                } else {\r\n                  return item;\r\n                }\r\n              });\r\n            }\r\n          });\r\n    }\r\n\r\n    //Remove\r\n    const removeItem = (id)=>{\r\n        setCartItems((currItems) => currItems.filter((item) => item.id !== id));\r\n    }\r\n    \r\n  return (\r\n    <ShoppingContext.Provider value={{cartItems  , incressCars, decressCars,removeItem,getItemq,openCard,closeCard, cartQuantity }}>\r\n      {children}\r\n      <ShoppingCard isOpen={isOpen}/>\r\n    </ShoppingContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ShoppingProvider \r\n\r\nexport const useShopingCard = ()=>{\r\n    return useContext(ShoppingContext)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}